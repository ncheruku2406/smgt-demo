<script src="https://assets.crowd.aws/crowd-html-elements.js"></script>

<crowd-entity-annotation
  name="crowd-entity-annotation"
  header="Highlight parts of the text below"
  labels="[{'label': 'toxic', 'shortDisplayName': 'toxic', 'fullDisplayName': 'toxic'}, {'label': 'severe_toxic', 'shortDisplayName': 'severe_toxic', 'fullDisplayName': 'severe_toxic'}, {'label': 'obscene', 'shortDisplayName': 'obscene', 'fullDisplayName': 'obscene'},{'label': 'threat', 'shortDisplayName': 'threat', 'fullDisplayName': 'threat'},{'label': 'insult', 'shortDisplayName': 'insult', 'fullDisplayName': 'insult'},{'label': 'identity_hate', 'shortDisplayName': 'identity_hate', 'fullDisplayName': 'identity_hate'}, {'label': 'non-toxic', 'shortDisplayName': 'non-toxic', 'fullDisplayName': 'non-toxic'}]"
  text="{{ task.input.taskObject }}"
>

  <full-instructions header="Named entity recognition instructions">
    <ol>
      <li><strong>Read</strong> the text carefully.</li>
      <li><strong>Highlight</strong> words, phrases, or sections of the text.</li>
      <li><strong>Choose</strong> the label that best matches what you have highlighted.</li>
      <li>To <strong>change</strong> a label, choose highlighted text and select a new label.</li>
      <li>To <strong>remove</strong> a label from highlighted text, choose the X next to the abbreviated label name on the highlighted text.</li>
      <li>You can select all of a previously highlighted text, but not a portion of it.</li>
    </ol>
  </full-instructions>

  <short-instructions>
    Apply labels to words or phrases.
  </short-instructions>

  <div id="additionalQuestions" style="margin-top: 20px">
    <h3>
      What is the overall subject of this text?
    </h3>
    <input type="checkbox" id="nature" name="type" value="nature">
    <label for="nature">Nature</label>
    <input type="checkbox" id="religion" name="type" value="religion">
    <label for="religion">Religion</label>
    <input type="checkbox" id="politics" name="type" value="politics">
    <label for="politics">Politics</label>
    <input type="checkbox" id="tech" name="type" value="tech">
    <label for="tech">Technology</label>
  </div>
</crowd-entity-annotation>

<script>
  document.addEventListener('all-crowd-elements-ready', () => {
    document
      .querySelector('crowd-entity-annotation')
      .shadowRoot
      .querySelector('crowd-form')
      .form
      .appendChild(additionalQuestions);
  });
</script>
